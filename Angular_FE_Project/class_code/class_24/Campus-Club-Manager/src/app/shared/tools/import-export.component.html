<h2 class="visually-hidden">Import / Export / Reset</h2>
@if (msg()) {
<p
  class="status"
  [class.text-success]="msgType() === 'success'"
  [class.text-danger]="msgType() === 'error'"
  role="status"
  aria-live="polite"
>
  {{ msg() }}
</p>
@if (msgType() === 'error') {
<h4 class="schema-title">Expected JSON Schema</h4>
<pre class="schema-snippet" aria-label="Expected JSON schema example">{{
  svc.schemaExample
}}</pre>
} }
<section class="card">
  <div class="card-inner">
    <div class="tool-section">
      <h3>Export data</h3>
      <p class="text-muted">
        Download a JSON backup of your clubs, members, and events. Keep this
        file safe to restore later.
      </p>
      <button class="btn btn-hero" (click)="download()">Export JSON</button>
    </div>

    <div class="tool-section">
      <h3>Import data</h3>
      <p class="text-muted">
        Select a JSON file previously exported from this app. Import will
        replace your current data with the fileâ€™s contents.
      </p>
      <div class="import">
        <label class="file-control plain">
          <input
            class="file-input"
            type="file"
            accept="application/json"
            (change)="onFile($event)"
          />
          <span class="btn btn-hero">Choose File</span>
          <span class="file-name">{{ fileName() || "No file chosen" }}</span>
        </label>
      </div>
    </div>

    <div class="tool-section reset">
      <h3>Reset all data</h3>
      <p class="text-muted">
        Clear all local data and restore the default demo content. This cannot
        be undone.
      </p>
      <button class="btn btn-danger" (click)="reset()">Reset All</button>
    </div>

    <div class="tool-section preview-section">
      <h3>Preview export</h3>
      <p class="text-muted">
        This shows the exact JSON that will be downloaded when you export. Use
        it to inspect your data or copy snippets for debugging.
      </p>
      <pre class="code">{{ svc.exportJson() }}</pre>
    </div>
  </div>
</section>
