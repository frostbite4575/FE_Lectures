<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Campus Club Manager — Class 12</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Campus Club Manager</h1>
    <p>Async & Fetch: load seed from server + simulate save (with loading states)</p>
  </header>

  <nav class="crumbs">
    <a href="#/" id="home-link">All Clubs</a>
    <span id="crumb-current"></span>
  </nav>

  <main>
    <!-- Create Club Form (home route only) -->
    <form id="club-form" class="form route-only home">
      <div class="form-row">
        <label for="club-name">Club Name</label>
        <input type="text" id="club-name" placeholder="e.g., Chess Club" />
      </div>
      <div class="form-row">
        <label for="club-capacity">Max Capacity</label>
        <input type="number" id="club-capacity" placeholder="e.g., 20" min="1" />
      </div>
      <button type="submit" class="btn">Add Club</button>
      <p id="error-message" class="error" role="alert" aria-live="polite"></p>
    </form>

    <!-- Toolbar (home route only) -->
    <section class="toolbar route-only home">
      <input id="search" class="input" type="search" placeholder="Search clubs..." aria-label="Search clubs by name" />
      <label class="checkbox">
        <input id="only-open" type="checkbox" />
        Has seats only
      </label>
      <label for="sort-by">Sort by:</label>
      <select id="sort-by" class="select" aria-label="Sort clubs">
        <option value="name-asc">Name (A–Z)</option>
        <option value="name-desc">Name (Z–A)</option>
        <option value="seats-desc">Seats left (High→Low)</option>
        <option value="capacity-desc">Capacity (High→Low)</option>
      </select>

      <div class="spacer"></div>
      <button id="export-json" class="btn" type="button">Export JSON</button>
      <input id="import-file" type="file" accept="application/json" hidden />
      <button id="import-json" class="btn" type="button">Import JSON</button>
      <button id="reset-data" class="btn" type="button">Reset Data</button>

      <!-- NEW: Async/Fetch controls -->
      <button id="reload-server" class="btn" type="button">Reload from Server</button>
      <button id="save-server" class="btn" type="button">Save to Server</button>
    </section>

    <!-- Global status/notifications -->
    <div id="global-status" class="status" aria-live="polite"></div>

    <!-- The app renders into this container in BOTH routes -->
    <section id="app-root" class="cards"></section>
  </main>

  <footer>
    <small>&copy; <span id="year"></span> Campus Club Manager</small>
  </footer>

  <script type="module" src="src/app.js"></script>
</body>
</html>
